# ===========================================
# PST Email RAG Bot - Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

# -------------------------------------------
# Application Settings
# -------------------------------------------
APP_NAME=PST Email RAG Bot
APP_ENV=development
DEBUG=true
SECRET_KEY=your-super-secret-key-change-in-production

# API Settings
API_V1_PREFIX=/api/v1
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]

# -------------------------------------------
# Database Configuration
# -------------------------------------------
# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=pstrag
POSTGRES_PASSWORD=your-postgres-password
POSTGRES_DB=pstrag_db

# Full database URL (alternative to individual settings)
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -------------------------------------------
# Redis Configuration
# -------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# -------------------------------------------
# RabbitMQ Configuration (Celery Broker)
# -------------------------------------------
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=pstrag
RABBITMQ_PASSWORD=your-rabbitmq-password
RABBITMQ_VHOST=/
CELERY_BROKER_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}/${RABBITMQ_VHOST}
CELERY_RESULT_BACKEND=redis://${REDIS_HOST}:${REDIS_PORT}/1

# -------------------------------------------
# ChromaDB Configuration
# -------------------------------------------
CHROMA_HOST=localhost
CHROMA_PORT=8000
CHROMA_PERSIST_DIRECTORY=./chroma_data

# -------------------------------------------
# LLM Provider API Keys
# -------------------------------------------
# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview

# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Google Gemini
GOOGLE_API_KEY=your-google-api-key
GOOGLE_MODEL=gemini-pro

# xAI Grok
XAI_API_KEY=your-xai-api-key
XAI_MODEL=grok-beta

# Groq (fast inference)
GROQ_API_KEY=gsk_your-groq-api-key
GROQ_MODEL=llama-3.3-70b-versatile

# Cerebras (extremely fast inference)
CEREBRAS_API_KEY=your-cerebras-api-key
CEREBRAS_MODEL=llama-3.3-70b

# Custom LLM Endpoint (OpenAI-compatible APIs like LM Studio, Ollama, vLLM)
CUSTOM_LLM_BASE_URL=http://localhost:1234/v1
CUSTOM_LLM_API_KEY=not-required
CUSTOM_LLM_MODEL=your-local-model

# Default LLM Provider (openai, anthropic, google, xai, groq, cerebras, custom)
DEFAULT_LLM_PROVIDER=openai

# -------------------------------------------
# Embedding Model Configuration
# -------------------------------------------
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=256

# -------------------------------------------
# File Upload Settings
# -------------------------------------------
MAX_UPLOAD_SIZE_GB=50
UPLOAD_DIRECTORY=./uploads
ALLOWED_EXTENSIONS=.pst

# -------------------------------------------
# JWT Authentication
# -------------------------------------------
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# -------------------------------------------
# Rate Limiting
# -------------------------------------------
RATE_LIMIT_STANDARD=100
RATE_LIMIT_INVESTIGATOR=500
RATE_LIMIT_ADMIN=1000
RATE_LIMIT_UNAUTHENTICATED=10
RATE_LIMIT_WINDOW_SECONDS=60

# -------------------------------------------
# Logging
# -------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/app.log

# -------------------------------------------
# Performance Settings
# -------------------------------------------
# Worker pool size for PST processing
WORKER_POOL_SIZE=4

# Database connection pool
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Cache TTLs (in seconds)
CACHE_TTL_QUERY=300
CACHE_TTL_EMAIL_METADATA=3600
CACHE_TTL_SESSION=1800
CACHE_TTL_LLM_RESPONSE=600
CACHE_TTL_EMBEDDINGS=86400

# -------------------------------------------
# Frontend Settings (for Docker build)
# -------------------------------------------
VITE_API_URL=http://localhost:8000
VITE_WS_URL=ws://localhost:8000/ws
